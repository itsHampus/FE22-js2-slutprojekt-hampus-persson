{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1052c4c3ba4b225f.js","src/modules/firebase.ts","node_modules/@parcel/runtime-js/lib/runtime-306e42579687c1c4.js","node_modules/@parcel/runtime-js/lib/runtime-9f1ca32467737c92.js","node_modules/@parcel/runtime-js/lib/runtime-01604ad392c0c2bd.js","src/modules/gui.ts","src/modules/homePage.ts","src/modules/profilePage.ts","src/main.ts","src/modules/user.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ReQc\\\":\\\"index.57ef54b1.js\\\",\\\"6BjcK\\\":\\\"animal-leao-lion-svgrepo-com.3298cfa5.svg\\\",\\\"ljGDz\\\":\\\"animal-bull-bulls-svgrepo-com.8bfc578b.svg\\\",\\\"bazO7\\\":\\\"animal-duck-ducks-svgrepo-com.d97cb9d9.svg\\\"}\"));","import { User } from \"./user\";\nimport { UserType } from \"./user\";\nexport class Firebase{\n    constructor(){}\n    async getAllUsers():Promise<UserType[]>{\n        const url = 'https://slutprojekt-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/.json';\n        const response = await fetch(url);\n        const data = await response.json();\n        return data;\n    }\n    async CreateUser(userObj: any, index: number):Promise<void>{\n        const url = `https://slutprojekt-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/${index}.json`;\n        const init = {\n            method: 'PUT',\n            body: JSON.stringify(userObj),\n            headers:{\n                'Content-type': 'application/json: charset=UTF-8'\n            }\n        }\n        const response = await fetch(url, init);\n    }\n    async updateUserPosts(post: string, timestamp: string, index: number):Promise<void>{\n        const url = `https://slutprojekt-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/${index}/posts.json`;\n        const init = {\n            method: 'POST',\n            body: JSON.stringify({post, timestamp}),\n            headers:{\n                'Content-type': 'application/json: charset=UTF-8'\n            }\n        }\n        const response = await fetch(url, init);\n        // const data = await response.json();\n        // console.log('Nu har statusen uppdaterats i firebase');\n    }\n    async deleteUserPost(postId: string, index: Number):Promise<void>{\n        const url = `https://slutprojekt-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/${index}/posts/${postId}.json`;\n        const init = {\n            method: 'DELETE',\n            headers:{\n                'Content-type': 'application/json: charset=UTF-8'\n            }\n        }\n        const response = await fetch(url, init);\n    }\n    async deleteUser():Promise<void>{\n        const url = `https://slutprojekt-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/.json`;\n        const init = {\n            method: 'DELETE',\n            headers:{\n                'Content-type': 'application/json: charset=UTF-8'\n            }\n        }\n        const response = await fetch(url, init);\n    }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6BjcK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ljGDz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bazO7\")).toString();","export class Gui {\n    // Containers som ska vara synliga beroende på vilken 'sida' man är på\n    private readonly createUserContainer: HTMLElement = document.getElementById('createUserContainer')!;\n    private readonly loginContainer: HTMLElement = document.getElementById('loginContainer')!;\n    private readonly homePageContainer: HTMLElement = document.getElementById('homePageContainer')!;\n    private readonly profilePageContainer: HTMLElement = document.getElementById('profilePageContainer')!;\n    private readonly displayProfilePicture = (<HTMLImageElement>document.getElementById('displayProfilePicture')!);\n    private readonly profilePicture = (<HTMLImageElement>document.getElementById('profilePicture')!);\n    //Text att klicka på för att byta mellan login och skapa användare\n    private readonly switchToCreateUser = document.querySelector('#loginContainer h5')!;\n    private readonly switchToLogin = document.querySelector('#createUserContainer h5')!;\n    constructor() {\n        this.switchToCreateUser!.addEventListener('click', () => {\n            this.createUser();\n        })\n\n        this.switchToLogin!.addEventListener('click', () => {\n            this.createLogin();\n        })\n    }\n    public createLogin() {\n        this.loginContainer.style.display = 'block';\n        this.createUserContainer.style.display = 'none';\n        this.homePageContainer.style.display = 'none';\n        this.profilePageContainer.style.display = 'none';\n    }\n    public createUser() {\n        this.createUserContainer.style.display = 'block';\n        this.loginContainer.style.display = 'none';\n        this.homePageContainer.style.display = 'none';\n        this.profilePageContainer.style.display = 'none';\n    }\n    public createHomePage() {\n        this.homePageContainer.style.display = 'block';\n        this.createUserContainer.style.display = 'none';\n        this.loginContainer.style.display = 'none';\n        this.profilePageContainer.style.display = 'none';\n    }\n    public createProfilePage() {\n        this.profilePageContainer.style.display = 'block';\n        this.homePageContainer.style.display = 'none';\n        this.createUserContainer.style.display = 'none';\n        this.loginContainer.style.display = 'none';\n    }\n    public userProfilePicture(imgUrl: string, homePageOrProfilePage: boolean) {\n        if (imgUrl == 'animal-leao-lion-svgrepo-com.svg' && homePageOrProfilePage === true) {\n            const profilePictureUrl = new URL('../images/animal-leao-lion-svgrepo-com.svg', import.meta.url);\n            this.displayProfilePicture.src = profilePictureUrl.href;\n        }\n        else if (imgUrl == 'animal-bull-bulls-svgrepo-com.svg' && homePageOrProfilePage === true) {\n            const profilePictureUrl = new URL('../images/animal-bull-bulls-svgrepo-com.svg', import.meta.url);\n            this.displayProfilePicture.src = profilePictureUrl.href;\n        }\n        else if (imgUrl == 'animal-duck-ducks-svgrepo-com.svg' && homePageOrProfilePage === true) {\n            const profilePictureUrl = new URL('../images/animal-duck-ducks-svgrepo-com.svg', import.meta.url);\n            this.displayProfilePicture.src = profilePictureUrl.href;\n        }\n        else if (imgUrl == 'animal-leao-lion-svgrepo-com.svg' && homePageOrProfilePage === false) {\n            const profilePictureUrl = new URL('../images/animal-leao-lion-svgrepo-com.svg', import.meta.url);\n            this.profilePicture.src = profilePictureUrl.href;\n        }\n        else if (imgUrl == 'animal-bull-bulls-svgrepo-com.svg' && homePageOrProfilePage === false) {\n            const profilePictureUrl = new URL('../images/animal-bull-bulls-svgrepo-com.svg', import.meta.url);\n            this.profilePicture.src = profilePictureUrl.href;\n        }\n        else if (imgUrl == 'animal-duck-ducks-svgrepo-com.svg' && homePageOrProfilePage === false) {\n            const profilePictureUrl = new URL('../images/animal-duck-ducks-svgrepo-com.svg', import.meta.url);\n            this.profilePicture.src = profilePictureUrl.href;\n        }\n    }\n}","// import { profilePage } from \"../main\";\n// import { ProfilePage } from \"./profilePage\";\nimport { Gui } from \"./gui\";\nimport { Firebase } from \"./firebase\";\nimport { UserType } from \"./user\";\n\nexport type PostType = {\n    username: string,\n    p: string,\n    t: string\n}\n\nexport class HomePage {\n    private readonly gui: Gui = new Gui();\n    private readonly firebase: Firebase = new Firebase();\n    // private readonly allUsers = this.firebase.getAllUsers();\n    // private readonly profilePage: ProfilePage = new ProfilePage();\n    constructor() {}\n    async homePage() {\n        // localStorage.removeItem('dontRepeatHome');\n        this.gui.createHomePage();\n        await this.allUsersPosts();\n        document.getElementById('listOfAllUsers')!.innerHTML = '';\n        //Loopar igenom alla användare\n        // (await this.allUsers)\n        (await this.firebase.getAllUsers()).forEach((storedUser) => {\n            //Om det är den inloggade användaren visa deras användarnamn och bild\n            if (storedUser.username === localStorage.getItem('username')) {\n                const username = document.getElementById('displayUsername')!;\n                username.innerText = storedUser.username;\n                this.gui.userProfilePicture(storedUser.profilePicture, true);\n            }\n            //Lägger till dem i listan över användare\n            const userForTheList = document.createElement('li');\n            userForTheList.innerText = storedUser.username;\n            document.getElementById('listOfAllUsers')!.append(userForTheList);\n        })\n        //För statusuppdateringar\n        const userStatusUpdateForm = document.getElementById('userStatusUpdateForm')!;\n        userStatusUpdateForm.addEventListener('submit', async (event) => {\n            console.trace();\n            event.preventDefault();\n            //Texten användaren skrev skickas med till statusUpdate\n            let statusUpdateText = (<HTMLTextAreaElement>document.getElementById('userStatusUpdate')!).value;\n            await this.statusUpdate(statusUpdateText).then(async() => { \n                await this.allUsersPosts();\n                // console.log('nu ska alla posts uppdateras')\n            })\n        })\n        //För att logga ut sin användare\n        const logOutBtn = document.getElementById('logOutBtn')!;\n        logOutBtn.addEventListener('click', () => {\n            localStorage.clear();\n            window.location.href = './index.html';\n        });\n        // För att ta bort sin användare\n        const deleteAccountBtn = document.getElementById('deleteAccountBtn')!;\n        deleteAccountBtn.addEventListener('click', async () => {\n            let confirmedChoise = confirm('Are you sure you want to delete your account?');\n            if (confirmedChoise) {\n                const arrayOfAllUsers = await this.firebase.getAllUsers();\n                arrayOfAllUsers.forEach(async (storedUser, index: number) => {\n                    if (storedUser.username === localStorage.getItem('username')) {\n                        //Ta bort alla användare från firebase\n                        await this.firebase.deleteUser();\n                        //Ta bort användaren från arrayen\n                        arrayOfAllUsers.splice(index, 1);\n                        //Lägg nu till de resterande användarna till firebase igen\n                        arrayOfAllUsers.forEach(async (storedUser, index: number) => {\n                            await this.firebase.CreateUser(storedUser, index);\n                            localStorage.clear();\n                            window.location.href = './index.html';\n                        })\n                    }\n                })\n            }\n        })\n    }\n    async statusUpdate(statusUpdate: string) {\n        console.trace();\n        const allUsers = await this.firebase.getAllUsers();\n        // console.log(allUsers[6].posts, statusUpdate);\n        const currentUser = allUsers.find((storedUser: UserType) => storedUser.username === localStorage.getItem('username'));\n        // console.log(statusUpdate, currentUser)\n        if (currentUser !== undefined) {\n            const userIndex: number = allUsers.indexOf(currentUser);\n            const timestamp = new Date().toLocaleString();\n            // console.log(userIndex, timestamp);\n            await this.firebase.updateUserPosts(statusUpdate, timestamp, userIndex);\n            // await this.allUsersPosts();\n        }\n        // Texten användaren skrev tas bort\n        (<HTMLTextAreaElement>document.getElementById('userStatusUpdate')!).value = '';\n    }\n    async allUsersPosts() {\n        const allUsers = await this.firebase.getAllUsers();\n        document.getElementById('everyStatusUpdateContainer')!.innerHTML = \"\";\n        let allPosts: PostType[] = [];\n        allUsers.forEach((storedUser: UserType) => {\n            if (storedUser.posts !== undefined) {\n                const arrayOfPosts = Object.values(storedUser.posts);\n                arrayOfPosts.forEach(({ post, timestamp }) => {\n                    const postWithTimestamp: PostType = {\n                        username: storedUser.username,\n                        p: post,\n                        t: timestamp\n                    }\n                    allPosts.push(postWithTimestamp);\n                })\n            }\n        })\n        allPosts.sort((a, b) => new Date(b.t).getTime() - new Date(a.t).getTime());\n        allPosts.forEach((storedPost: PostType) => {\n            const username = document.createElement('h5');\n            username.innerText = storedPost.username;\n            const post = document.createElement('p');\n            post.innerText = storedPost.p;\n            const timestampForThePost = document.createElement('p');\n            timestampForThePost.innerText = storedPost.t;\n            const postContainer = document.createElement('div');\n            postContainer.id = 'postContainer';\n            postContainer.append(username, post, timestampForThePost);\n            document.getElementById('everyStatusUpdateContainer')!.append(postContainer);\n        })\n    }\n\n}\n\n\n\n// async function homePage() {\n//     GuiFor.createHomePage();\n//     await allUsersPosts();\n//     const allUsers = await firebase.getAllUsers();\n//     document.getElementById('listOfAllUsers')!.innerHTML = '';\n//     allUsers.forEach((storedUser) => {\n//         if (storedUser.username === localStorage.getItem('username')) {\n//             const username = document.getElementById('displayUsername')!;\n//             username.innerText = storedUser.username;\n//             GuiFor.userProfilePicture(storedUser.profilePicture, true);\n//         }\n//         const userForTheList = document.createElement('li');\n//         userForTheList.innerText = storedUser.username;\n//         document.getElementById('listOfAllUsers')!.append(userForTheList);\n//     })\n//     //För statusuppdateringar\n//     const userStatusUpdateForm = document.getElementById('userStatusUpdateForm')!;\n//     userStatusUpdateForm.addEventListener('submit', async (event) => {\n//         event.preventDefault();\n//         let statusUpdateText = (<HTMLTextAreaElement>document.getElementById('userStatusUpdate')!).value;\n//         await statusUpdate(statusUpdateText);\n//         console.log('det här ska hända sist');\n//         (<HTMLTextAreaElement>document.getElementById('userStatusUpdate')!).value = '';\n//     })\n//     //För att logga ut sin användare\n//     const logOutBtn = document.getElementById('logOutBtn')!;\n//     logOutBtn.addEventListener('click', () => {\n//         localStorage.clear();\n//         window.location.href = './index.html';\n//     });\n//     //För att ta bort sin användare\n//     const deleteAccountBtn = document.getElementById('deleteAccountBtn')!;\n//     deleteAccountBtn.addEventListener('click', async () => {\n//         let confirmedChoise = confirm('Are you sure you want to delete your account?');\n//         if (confirmedChoise) {\n//             const allUsers = await firebase.getAllUsers();\n//             allUsers.forEach(async (storedUser, index: number) => {\n//                 if (storedUser.username === localStorage.getItem('username')) {\n//                     //Ta bort alla användare från firebase\n//                     await firebase.deleteUser();\n//                     //Ta bort användaren från arrayen\n//                     allUsers.splice(index, 1);\n//                     //Lägg nu till de resterande användarna till firebase igen\n//                     allUsers.forEach(async (storedUser, index: number) => {\n//                         await firebase.CreateUser(storedUser, index);\n//                         localStorage.clear();\n//                         window.location.href = './index.html';\n//                     })\n//                 }\n//             })\n//         }\n//     })\n//     // Lista för att gå till de andra profilerna\n//     const listOfAllUsers: NodeListOf<HTMLLIElement> = document.querySelectorAll('#listOfAllUsers li')!;\n//     listOfAllUsers.forEach((user) => {\n//         user.addEventListener('click', () => {\n//             profilePage(user.innerText);\n//         })\n//     });\n// }\n\n// async function statusUpdate(statusUpdate: string) {\n//     const allUsers = await firebase.getAllUsers();\n\n//     const currentUser = allUsers.find((storedUser: UserType) => storedUser.username === localStorage.getItem('username'));\n//     console.log(statusUpdate, currentUser)\n//     if (currentUser !== undefined) {\n//         const userIndex: number = allUsers.indexOf(currentUser);\n//         const timestamp = new Date().toLocaleString();\n//         console.log(userIndex, timestamp);\n//         await firebase.updateUserPosts(statusUpdate, timestamp, userIndex);\n//         await allUsersPosts();\n//     }\n// }\n\n\n\n\n\n// async function allUsersPosts() {\n//     const allUsers = await firebase.getAllUsers();\n//     document.getElementById('everyStatusUpdateContainer')!.innerHTML = \"\";\n//     let allPosts: PostType[] = [];\n//     allUsers.forEach((storedUser: UserType) => {\n//         if (storedUser.posts !== undefined) {\n//             const arrayOfPosts = Object.values(storedUser.posts);\n//             arrayOfPosts.forEach(({ post, timestamp }) => {\n//                 const postWithTimestamp: PostType = {\n//                     username: storedUser.username,\n//                     p: post,\n//                     t: timestamp\n//                 }\n//                 allPosts.push(postWithTimestamp);\n//             })\n//         }\n//     })\n//     allPosts.sort((a, b) => new Date(b.t).getTime() - new Date(a.t).getTime());\n//     allPosts.forEach((storedPost: PostType) => {\n//         const username = document.createElement('h5');\n//         username.innerText = storedPost.username;\n//         const post = document.createElement('p');\n//         post.innerText = storedPost.p;\n//         const timestampForThePost = document.createElement('p');\n//         timestampForThePost.innerText = storedPost.t;\n//         const postContainer = document.createElement('div');\n//         postContainer.id = 'postContainer';\n//         postContainer.append(username, post, timestampForThePost);\n//         document.getElementById('everyStatusUpdateContainer')!.append(postContainer);\n//     })\n// }","import { Gui } from \"./gui\";\nimport { PostType } from \"./homePage\";\nimport { Firebase } from \"./firebase\";\nimport { UserType } from \"./user\";\nexport class ProfilePage{\n    private readonly gui: Gui = new Gui();\n    private readonly firebase: Firebase = new Firebase();\n    constructor(){}\n    async profilePage(username: string) {\n        this.gui.createProfilePage();\n    \n        let allPosts: PostType[] = [];\n        let arrayOfPostIDs: string[] = [];\n        let arrayOfIndexesForPosts: number[] = [];\n        const allUsers = await this.firebase.getAllUsers();\n        allUsers.forEach((storedUser: UserType) => {\n            if (storedUser.username === username) {\n                const profileUsername = document.getElementById('profileUsername')!;\n                profileUsername.innerText = storedUser.username;\n                this.gui.userProfilePicture(storedUser.profilePicture, false);\n    \n                if (storedUser.posts !== undefined) {\n                    const arrayOfPosts = Object.values(storedUser.posts)\n                    arrayOfPosts.forEach(({ post, timestamp }, indexForThePost: number) => {\n                        const postWithTimestamp: PostType = {\n                            username: storedUser.username,\n                            p: post,\n                            t: timestamp\n                        }\n    \n                        allPosts.push(postWithTimestamp);\n                        arrayOfIndexesForPosts.push(indexForThePost);\n                    })\n                    Object.keys(storedUser.posts).forEach((key) => {\n                        arrayOfPostIDs.push(key);\n                    });\n                } else {\n                    const noStatusUpdate = document.createElement('p');\n                    noStatusUpdate.innerText = 'No posts yet';\n                    document.getElementById('profileStatusContainer')!.append(noStatusUpdate);\n                }\n    \n            }\n        })\n        allPosts.sort((a, b) => new Date(b.t).getTime() - new Date(a.t).getTime());\n        arrayOfIndexesForPosts.reverse();\n        allPosts.forEach((storedPost: PostType, indexForThePost: number) => {\n            // console.log(storedPost);\n            const statusContainer = document.createElement('div');\n            statusContainer.id = 'containerForTheProfilePost';\n            const statusUsername = document.createElement('h5');\n            statusUsername.innerText = storedPost.username;\n            const statusText = document.createElement('p');\n            statusText.innerText = storedPost.p;\n            const statusTimestamp = document.createElement('p');\n            statusTimestamp.innerText = storedPost.t;\n    \n            // console.log(arrayOfIndexesForPosts);\n            if (storedPost.username === localStorage.getItem('username')) {\n                const deletePostBtn = document.createElement('button');\n                deletePostBtn.innerText = 'Delete post';\n                deletePostBtn.value = indexForThePost.toString()\n                deletePostBtn.addEventListener('click', async () => {\n                    let confirmChoise = confirm('Are you sure you want to delete this post?');\n                    if (confirmChoise) {\n                        const allUsers = await this.firebase.getAllUsers();\n                        allUsers.forEach(async (storedUser, userIndex: number) => {\n                            if (storedUser.username === localStorage.getItem('username')) {\n                                const postIndex = arrayOfIndexesForPosts[deletePostBtn.value]\n                                await this.firebase.deleteUserPost(arrayOfPostIDs[postIndex], userIndex);\n                                document.getElementById('profileStatusContainer')!.innerHTML = '';\n                                this.profilePage(localStorage.getItem('username')!);\n                            }\n                        });\n                    }\n                });\n    \n                statusContainer.append(statusUsername, statusText, statusTimestamp, deletePostBtn);\n            } else {\n                statusContainer.append(statusUsername, statusText, statusTimestamp);\n            }\n            document.getElementById('profileStatusContainer')!.append(statusContainer);\n        })\n    \n        // //Tillbaks till Home\n        // const backToHomeBtn = document.getElementById('backToHomeBtn')!;\n        // backToHomeBtn.addEventListener('click', () => {\n        //     // GuiFor.createHomePage();\n        //     this.homePage.homePage();\n        //     document.getElementById('profileStatusContainer')!.innerHTML = '';\n        // });\n    }\n}","import { User } from \"./modules/user\";\nimport { Gui } from \"./modules/gui\";\n\nconst GuiFor = new Gui();\nGuiFor.createLogin();\nconst user = new User();\n\n// För att skapa en användare\nconst createUserForm = document.getElementById('createUserForm')!;\ncreateUserForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    user.createUser();\n});\n// För att logga in\nconst loginForm = document.getElementById('loginForm')!;\nloginForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    user.logIn();\n})\n\n//Tillbaks till Home\nconst backToHomeBtn = document.getElementById('backToHomeBtn')!;\nbackToHomeBtn.addEventListener('click', () => { \n    console.log('Back to Home');\n    user.goToHomeOrProfile(true);\n    document.getElementById('profileStatusContainer')!.innerHTML = '';\n    // GuiFor.createHomePage();\n    // this.homePage.homePage();\n    // localStorage.setItem('dontRepeatHome', 'true');\n    // console.log(localStorage.getItem('dontRepeatHome'), 'nu har vi tryckt på hem');\n});\n\n// if (localStorage.getItem('username') != null) {\n//     homePage.homePage();\n//     console.log('user logged in händer');\n//     // profilePage(localStorage.getItem('username')!);\n// }\n// homePage.homePage();\n// export async function homePage() {\n//     GuiFor.createHomePage();\n//     await allUsersPosts();\n//     const allUsers = await firebase.getAllUsers();\n//     document.getElementById('listOfAllUsers')!.innerHTML = '';\n//     allUsers.forEach((storedUser) => {\n//         if (storedUser.username === localStorage.getItem('username')) {\n//             const username = document.getElementById('displayUsername')!;\n//             username.innerText = storedUser.username;\n//             GuiFor.userProfilePicture(storedUser.profilePicture, true);\n//         }\n//         const userForTheList = document.createElement('li');\n//         userForTheList.innerText = storedUser.username;\n//         document.getElementById('listOfAllUsers')!.append(userForTheList);\n//     })\n//     //För statusuppdateringar\n//     const userStatusUpdateForm = document.getElementById('userStatusUpdateForm')!;\n//     userStatusUpdateForm.addEventListener('submit', async (event) => {\n//         event.preventDefault();\n//         let statusUpdateText = (<HTMLTextAreaElement>document.getElementById('userStatusUpdate')!).value;\n//         await statusUpdate(statusUpdateText);\n//         console.log('det här ska hända sist');\n//         (<HTMLTextAreaElement>document.getElementById('userStatusUpdate')!).value = '';\n//     })\n//     //För att logga ut sin användare\n//     const logOutBtn = document.getElementById('logOutBtn')!;\n//     logOutBtn.addEventListener('click', () => {\n//         localStorage.clear();\n//         window.location.href = './index.html';\n//     });\n//     //För att ta bort sin användare\n//     const deleteAccountBtn = document.getElementById('deleteAccountBtn')!;\n//     deleteAccountBtn.addEventListener('click', async () => {\n//         let confirmedChoise = confirm('Are you sure you want to delete your account?');\n//         if (confirmedChoise) {\n//             const allUsers = await firebase.getAllUsers();\n//             allUsers.forEach(async (storedUser, index: number) => {\n//                 if (storedUser.username === localStorage.getItem('username')) {\n//                     //Ta bort alla användare från firebase\n//                     await firebase.deleteUser();\n//                     //Ta bort användaren från arrayen\n//                     allUsers.splice(index, 1);\n//                     //Lägg nu till de resterande användarna till firebase igen\n//                     allUsers.forEach(async (storedUser, index: number) => {\n//                         await firebase.CreateUser(storedUser, index);\n//                         localStorage.clear();\n//                         window.location.href = './index.html';\n//                     })\n//                 }\n//             })\n//         }\n//     })\n//     // Lista för att gå till de andra profilerna\n//     const listOfAllUsers: NodeListOf<HTMLLIElement> = document.querySelectorAll('#listOfAllUsers li')!;\n//     listOfAllUsers.forEach((user) => {\n//         user.addEventListener('click', () => {\n//             profilePage(user.innerText);\n//         })\n//     });\n// }\n\n// async function statusUpdate(statusUpdate: string) {\n//     const allUsers = await firebase.getAllUsers();\n\n//     const currentUser = allUsers.find((storedUser: UserType) => storedUser.username === localStorage.getItem('username'));\n//     console.log(statusUpdate, currentUser)\n//     if (currentUser !== undefined) {\n//         const userIndex: number = allUsers.indexOf(currentUser);\n//         const timestamp = new Date().toLocaleString();\n//         console.log(userIndex, timestamp);\n//         await firebase.updateUserPosts(statusUpdate, timestamp, userIndex);\n//         await allUsersPosts();\n//     }\n// }\n\n// type PostType = {\n//     username: string,\n//     p: string,\n//     t: string\n// }\n\n\n\n// async function allUsersPosts() {\n//     const allUsers = await firebase.getAllUsers();\n//     document.getElementById('everyStatusUpdateContainer')!.innerHTML = \"\";\n//     let allPosts: PostType[] = [];\n//     allUsers.forEach((storedUser: UserType) => {\n//         if (storedUser.posts !== undefined) {\n//             const arrayOfPosts = Object.values(storedUser.posts);\n//             arrayOfPosts.forEach(({ post, timestamp }) => {\n//                 const postWithTimestamp: PostType = {\n//                     username: storedUser.username,\n//                     p: post,\n//                     t: timestamp\n//                 }\n//                 allPosts.push(postWithTimestamp);\n//             })\n//         }\n//     })\n//     allPosts.sort((a, b) => new Date(b.t).getTime() - new Date(a.t).getTime());\n//     allPosts.forEach((storedPost: PostType) => {\n//         const username = document.createElement('h5');\n//         username.innerText = storedPost.username;\n//         const post = document.createElement('p');\n//         post.innerText = storedPost.p;\n//         const timestampForThePost = document.createElement('p');\n//         timestampForThePost.innerText = storedPost.t;\n//         const postContainer = document.createElement('div');\n//         postContainer.id = 'postContainer';\n//         postContainer.append(username, post, timestampForThePost);\n//         document.getElementById('everyStatusUpdateContainer')!.append(postContainer);\n//     })\n// }\n\n// export async function profilePage(username: string) {\n//     GuiFor.createProfilePage();\n\n//     let allPosts: PostType[] = [];\n//     let arrayOfPostIDs: string[] = [];\n//     let arrayOfIndexesForPosts: number[] = [];\n//     const allUsers = await firebase.getAllUsers();\n//     allUsers.forEach((storedUser: UserType) => {\n//         if (storedUser.username === username) {\n//             const profileUsername = document.getElementById('profileUsername')!;\n//             profileUsername.innerText = storedUser.username;\n//             GuiFor.userProfilePicture(storedUser.profilePicture, false);\n\n//             if (storedUser.posts !== undefined) {\n//                 const arrayOfPosts = Object.values(storedUser.posts)\n//                 arrayOfPosts.forEach(({ post, timestamp }, indexForThePost: number) => {\n//                     const postWithTimestamp: PostType = {\n//                         username: storedUser.username,\n//                         p: post,\n//                         t: timestamp\n//                     }\n\n//                     allPosts.push(postWithTimestamp);\n//                     arrayOfIndexesForPosts.push(indexForThePost);\n//                 })\n//                 Object.keys(storedUser.posts).forEach((key) => {\n//                     arrayOfPostIDs.push(key);\n//                 });\n//             } else {\n//                 const noStatusUpdate = document.createElement('p');\n//                 noStatusUpdate.innerText = 'No posts yet';\n//                 document.getElementById('profileStatusContainer')!.append(noStatusUpdate);\n//             }\n\n//         }\n//     })\n//     allPosts.sort((a, b) => new Date(b.t).getTime() - new Date(a.t).getTime());\n//     arrayOfIndexesForPosts.reverse();\n//     allPosts.forEach((storedPost: PostType, indexForThePost: number) => {\n//         // console.log(storedPost);\n//         const statusContainer = document.createElement('div');\n//         statusContainer.id = 'containerForTheProfilePost';\n//         const statusUsername = document.createElement('h5');\n//         statusUsername.innerText = storedPost.username;\n//         const statusText = document.createElement('p');\n//         statusText.innerText = storedPost.p;\n//         const statusTimestamp = document.createElement('p');\n//         statusTimestamp.innerText = storedPost.t;\n\n//         // console.log(arrayOfIndexesForPosts);\n//         if (storedPost.username === localStorage.getItem('username')) {\n//             const deletePostBtn = document.createElement('button');\n//             deletePostBtn.innerText = 'Delete post';\n//             deletePostBtn.value = indexForThePost.toString()\n//             deletePostBtn.addEventListener('click', async () => {\n//                 let confirmChoise = confirm('Are you sure you want to delete this post?');\n//                 if (confirmChoise) {\n//                     const allUsers = await firebase.getAllUsers();\n//                     allUsers.forEach(async (storedUser, userIndex: number) => {\n//                         if (storedUser.username === localStorage.getItem('username')) {\n//                             const postIndex = arrayOfIndexesForPosts[deletePostBtn.value]\n//                             await firebase.deleteUserPost(arrayOfPostIDs[postIndex], userIndex);\n//                             document.getElementById('profileStatusContainer')!.innerHTML = '';\n//                             profilePage(localStorage.getItem('username')!);\n//                         }\n//                     });\n//                 }\n//             });\n\n//             statusContainer.append(statusUsername, statusText, statusTimestamp, deletePostBtn);\n//         } else {\n//             statusContainer.append(statusUsername, statusText, statusTimestamp);\n//         }\n//         document.getElementById('profileStatusContainer')!.append(statusContainer);\n//     })\n\n//     //Tillbaks till Home\n//     const backToHomeBtn = document.getElementById('backToHomeBtn')!;\n//     backToHomeBtn.addEventListener('click', () => {\n//         // GuiFor.createHomePage();\n//         homePage.homePage();\n//         document.getElementById('profileStatusContainer')!.innerHTML = '';\n//     });\n// }","// import { homePage } from \"../main\";\nimport { Firebase } from \"./firebase\";\nimport { HomePage } from \"./homePage\";\nimport { ProfilePage } from \"./profilePage\";\n\n\nexport type UserType = {\n    username: string,\n    password: string,\n    profilePicture: string,\n    posts?: {\n        id: {\n            post: string,\n            timestamp: string\n        }\n    }\n}\n\nexport class User {\n    private readonly firebase: Firebase = new Firebase();\n    private homePage: HomePage= new HomePage();\n    private profilePage: ProfilePage= new ProfilePage();\n    constructor(\n    ) {\n        if (localStorage.getItem('username') != null) {//&& localStorage.getItem('dontRepeatHome') == null) {\n            // console.log(localStorage.getItem('dontRepeatHome'), 'Nu är vi i constructorn på user');\n            this.goToHomeOrProfile(true)//.then(() => {\n            //     this.addEventListenersOnListOfUsers();\n            // })\n            // console.log('user logged in händer');\n            // profilePage(localStorage.getItem('username')!);\n        }\n        // this.homePage = new HomePage();\n        // this.profilePage = new ProfilePage();\n\n    }\n    async createUser() {\n        const createUsername: string = (<HTMLInputElement>document.getElementById('createUsername'))!.value;\n        const createPassword: string = (<HTMLInputElement>document.getElementById('createPassword')!).value;\n        const verifyPassword: string = (<HTMLInputElement>document.getElementById('verifyPassword'))!.value;\n        const selectPicture: string = (<HTMLSelectElement>document.getElementById('selectPicture'))!.value;\n        if (createPassword === verifyPassword) {\n            const user: UserType = {\n                username: createUsername,\n                password: createPassword,\n                profilePicture: selectPicture\n            };\n            const firebaseArray = await this.firebase.getAllUsers();\n            if (firebaseArray !== null) {\n                const indexForUser = firebaseArray.length;\n                await this.firebase.CreateUser(user, indexForUser);\n            }\n            else {\n                const indexForUser = 0;\n                await this.firebase.CreateUser(user, indexForUser);\n            }\n            localStorage.setItem('username', user.username);\n            this.goToHomeOrProfile(true)/*.then(() => {\n                // Lägger till eventListener efter home har körts och alla användare har lagts till i listan\n                this.addEventListenersOnListOfUsers();\n                // const listOfAllUsers: NodeListOf<HTMLLIElement> = document.querySelectorAll('#listOfAllUsers li')!;\n                // listOfAllUsers.forEach((user) => {\n                //     user.addEventListener('click', () => {\n                //         // console.log(user)\n                //         this.goToHomeOrProfile(false, user.innerText);\n                //     })\n                // });\n            })*/\n        } else {\n            alert('Passwords do not match');\n        }\n    }\n    async logIn() {\n        const username: string = (<HTMLInputElement>document.getElementById('username'))!.value;\n        const password: string = (<HTMLInputElement>document.getElementById('password'))!.value;\n\n        const allUsers: UserType[] = await this.firebase.getAllUsers();\n        let checkUser: boolean = this.checkIfUserExists(username, password, allUsers);\n        if (checkUser == false) {\n            alert(\"User not found\");\n        }\n    }\n    private checkIfUserExists(username: string, password: string, allUsers: UserType[]): boolean {\n        let checkUser = false;\n        allUsers.forEach(storedUser => {\n            if (storedUser.username === username) {\n                checkUser = true;\n                if (storedUser.password === password) {\n                    localStorage.setItem('username', storedUser.username)\n                    checkUser = true;\n                    this.goToHomeOrProfile(true)/*.then(() => {\n                        this.addEventListenersOnListOfUsers();\n                    })*/\n                }\n                else {\n                    alert(\"Wrong password\");\n                }\n            }\n        })\n        return checkUser;\n    }\n    goToHomeOrProfile(trueOrFalse: boolean, username?: string): any {\n        console.trace();\n        if (trueOrFalse == true) {\n            // this.homePage = new HomePage();\n            this.homePage.homePage().then(() => {\n                this.addEventListenersOnListOfUsers();\n            })\n            return\n        }\n        else {\n            // this.profilePage = new ProfilePage();\n            this.profilePage.profilePage(username!);\n            return\n        }\n    }\n    addEventListenersOnListOfUsers() {\n        const listOfAllUsers: NodeListOf<HTMLLIElement> = document.querySelectorAll('#listOfAllUsers li')!;\n        listOfAllUsers.forEach((user) => {\n            user.addEventListener('click', () => {\n                // console.log(user)\n                // this.profilePage = new ProfilePage();\n                // this.profilePage.profilePage(user.innerText);\n                this.goToHomeOrProfile(false, user.innerText);\n            })\n        });\n    }\n}\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$14f6629ccf7de9b8$export$447fa9cb0c946c58","constructor","async","response","fetch","json","userObj","index","url","init","method","body","stringify","headers","post","timestamp","postId","$347f9556e8906125$exports","URL","resolve","toString","$62ef81368b1935d6$exports","$b537e53f9c4271b0$exports","$57540b7d61038bb5$export$d8bdd9c139c695f7","createUserContainer","document","getElementById","loginContainer","homePageContainer","profilePageContainer","displayProfilePicture","profilePicture","switchToCreateUser","querySelector","switchToLogin","this","addEventListener","createUser","createLogin","style","display","createHomePage","createProfilePage","userProfilePicture","imgUrl","homePageOrProfilePage","profilePictureUrl","src","href","$99631b5f5dacb4bd$export$36d69433c4f81145","gui","firebase","allUsersPosts","innerHTML","getAllUsers","forEach","storedUser","username","localStorage","getItem","innerText","userForTheList","createElement","append","event","console","trace","preventDefault","statusUpdateText","value","statusUpdate","then","clear","window","location","confirm","arrayOfAllUsers","deleteUser","splice","CreateUser","allUsers","currentUser","find","undefined","userIndex","indexOf","Date","toLocaleString","updateUserPosts","allPosts","posts","values","postWithTimestamp","p","t","push","sort","a","b","getTime","storedPost","timestampForThePost","postContainer","$dcfc905fcb023f39$export$120c0e7b1bef3ec7","arrayOfPostIDs","arrayOfIndexesForPosts","indexForThePost","key","noStatusUpdate","reverse","statusContainer","statusUsername","statusText","statusTimestamp","deletePostBtn","postIndex","deleteUserPost","profilePage","$ad2bcec7a0192558$var$user","homePage","goToHomeOrProfile","createUsername","createPassword","verifyPassword","selectPicture","user","password","firebaseArray","indexForUser","setItem","alert","checkIfUserExists","checkUser","trueOrFalse","addEventListenersOnListOfUsers","querySelectorAll","logIn","log"],"version":3,"file":"index.57ef54b1.js.map"}